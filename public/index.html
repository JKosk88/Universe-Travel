<!DOCTYPE html>
<html lang="en">
  <head>
    <link type="text/css" href="../src/App.css">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <script
    src="https://code.jquery.com/jquery-3.5.1.js"
    integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
    crossorigin="anonymous"></script>
 
    <title>Universe Travel</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root">

    </div>
    <img src='assets/astronautWhite.png' id='astronaut' />
    
    <script>
        $(document).ready(async function(){
          
          function freshDot(id){
            this.obj = document.createElement("div");
            this.obj.classList.add("stars");
            this.obj.id = ("star-" + id);
            this.obj.style.top = (window.innerHeight * Math.random()) + 'px';
            this.obj.style.left = (window.innerWidth * Math.random()) + 'px';
            this.size = Math.floor(5 * Math.random()) + 2;
            this.obj.style.height =  this.size + 'px';
            this.obj.style.width = this.size + 'px';
            
            document.getElementById('stars').appendChild(this.obj);
          }
          var dot = [];

          function renderStars(){
            for (let i = 0 ; i < 100 ; i++ ){
              dot.push(new freshDot(i));
            }
          }

          await renderStars();

          setInterval(() => {
            let id = Math.floor( Math.random() * 100 );
            
            let star = document.getElementById( 'star-' + id );

            let small = Math.floor(5 * Math.random()) + 2;
            let big = Math.floor(10 * Math.random()) + 5;

            star.style.width = big + 'px';
            star.style.height = big + 'px';

            star.style.backgroundColor = 'rgb(255, 255, 255)';

            setTimeout(() => {
              star.style.width = small + 'px';
              star.style.height = small + 'px';
              star.style.backgroundColor = 'rgb(182, 182, 182)';
            }, 500)    
          }, 100)
        });

        var astronaut = document.getElementById('astronaut');

        let fullH =  window.screen.height;
        let fullW =  window.screen.width;

        document.addEventListener('mousemove', (e) => { 
          let lastY = parseInt(astronaut.style.top.slice(0, -2))
          let lastX = parseInt(astronaut.style.left.slice(0, -2))

          let mouseX = e.clientX;
          let mouseY = e.clientY;
          astronaut.style.left = mouseX + 'px';
          astronaut.style.top = mouseY + 'px';
        })
    </script>
  </body>
</html>
